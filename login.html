<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>Retro CRT Login</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
:root{--green:#32ff8a;--bg:#031c11;}
*{margin:0;padding:0;box-sizing:border-box;font-family:"Courier New",monospace;}
body{height:100vh;background:#000;display:flex;justify-content:center;align-items:center;
     perspective:900px;overflow:hidden;}
/* ── CRT 모니터 ─────────────────── */
#monitor{
  position:relative;width:80vw;max-width:820px;height:60vh;max-height:620px;
  background:var(--bg);color:var(--green);
  display:flex;flex-direction:column;justify-content:center;align-items:center;
  border:12px solid #064;border-radius:14px;
  box-shadow:0 0 120px #010 inset,0 0 12px #05f279,0 20px 60px rgba(0,0,0,.85);
  transform:perspective(800px) rotateX(4deg) rotateY(-5deg) translateZ(-60px);
  text-shadow:0 0 4px var(--green);overflow:hidden;
}
/* 스캔라인 */
#monitor::before{content:"";position:absolute;inset:0;
  background:repeating-linear-gradient(transparent 0 2px,rgba(0,0,0,.35) 2px 3px);
  mix-blend-mode:overlay;pointer-events:none;}
/* 비네팅(곡면) */
#monitor::after{content:"";position:absolute;inset:0;
  background:radial-gradient(ellipse at center,transparent 0%,transparent 65%,rgba(0,0,0,.45) 100%);
  pointer-events:none;}
/* 노이즈 */
#noise{position:absolute;inset:-40%;
  background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjE1MCIgdmlld0JveD0iMCAwIDE1MCAxNTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGZpbHRlciBpZD0ibm9pc2UiPjxmZUZydWN0YWxOb2lzZSB0eXBlPSJ0dXJidWxlbmNlIiBiYXNlRnJlcXVlbmN5PSIuOSIgc3RpdGNoVGlsZXM9InN0aXRjaCIgbnVtT2N0YXZlcz0iMCIvPjwvZmlsdGVyPjxyZWN0IHdpZHRoPSIxNTAiIGhlaWdodD0iMTUwIiBmaWx0ZXI9InVybCgjbm9pc2UpIiBmaWxsPSIjRkZGIi8+PC9zdmc+");
  opacity:.06;animation:noise 1s steps(5) infinite;pointer-events:none;}
@keyframes noise{to{transform:translate(50%,50%);}}

/* 텍스트 & 입력창 */
h2{font-size:3.2vmin;margin-bottom:4vmin;letter-spacing:2px;transform:translateZ(20px);}
#typed{width:320px;max-width:60%;padding:6px 0;border-bottom:2px solid var(--green);
  font-size:2.6vmin;min-height:38px;text-align:center;letter-spacing:2px;transform:translateZ(15px);}
.blink{animation:blink .8s step-end infinite;}
@keyframes blink{50%{border-color:transparent;}}
#msg{margin-top:30px;font-size:2.4vmin;min-height:28px;transform:translateZ(18px);}
#monitor:focus{outline:none;}

@keyframes glitch{0%{transform:translate(0,0);}20%{transform:translate(-1px,1px);}
40%{transform:translate(1px,-1px);}60%{transform:translate(-1px,-1px);}
80%{transform:translate(1px,1px);}100%{transform:translate(0,0);}}
</style>
</head>
<body>
<div id="monitor" tabindex="0">
  <h2>관리자 비밀번호를 입력하십시오</h2>
  <div id="typed" class="blink"></div>
  <input id="hidden" autocomplete="off" style="position:absolute;left:-9999px">
  <div id="msg"></div>
  <div id="noise"></div>
</div>

<script>
/* ── 설정 값 ───────────────────── */
const PASS="WATCHME";
const typed=document.getElementById("typed");
const msg=document.getElementById("msg");
let buf="";

/* ── 공통 오디오 컨텍스트 ───────── */
let ctx;
function ensureCtx(){
  if(!ctx){ctx=new (window.AudioContext||window.webkitAudioContext)();}
  return ctx;
}

/* ── 타자음(click) ──────────────── */
function keyFX(){
  const ac=ensureCtx();
  const osc=ac.createOscillator();const g=ac.createGain();
  osc.type="square";osc.frequency.value=440;
  g.gain.value=.05;osc.connect(g).connect(ac.destination);
  osc.start();g.gain.exponentialRampToValueAtTime(0,ac.currentTime+.04);
  osc.stop(ac.currentTime+.05);
}

/* ── 오류음(buzz) ──────────────── */
function errorFX(){
  const ac=ensureCtx();
  const osc=ac.createOscillator();const g=ac.createGain();
  osc.type="sawtooth";osc.frequency.value=120;     /* 낮고 거친 톤 */
  g.gain.value=.12;osc.connect(g).connect(ac.destination);
  osc.start();g.gain.exponentialRampToValueAtTime(0,ac.currentTime+.35);
  osc.stop(ac.currentTime+.36);
}

/* ── 입력 처리 ─────────────────── */
const monitor=document.getElementById("monitor");
monitor.addEventListener("keydown",e=>{
  e.preventDefault();
  const k=e.key;
  if(k.length===1 && buf.length<PASS.length){
    buf+=k.toUpperCase();
    typed.textContent=buf; keyFX();
  }else if(k==="Backspace" && buf){
    buf=buf.slice(0,-1); typed.textContent=buf; keyFX();
  }else if(k==="Enter"){validate();}
});
monitor.focus();

function validate(){
  if(buf===PASS){
    msg.style.color="var(--green)"; msg.textContent="ACCESS GRANTED";
    typed.classList.remove("blink");
    setTimeout(()=>location.href="cctv.html",1400);
  }else{
    msg.style.color="#ff3242"; msg.textContent="ACCESS DENIED";
    monitor.style.animation="glitch .28s 2";
    errorFX();                              // << 경고음 호출
    setTimeout(()=>{monitor.style.animation="none";},600);
    buf=""; typed.textContent="";
  }
}
</script>
</body>
</html>


