<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>Retro CRT Terminal Login</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
:root{--green:#32ff8a;--bg:#031c11;}
*{margin:0;padding:0;box-sizing:border-box;font-family:"Courier New",monospace;}
body{height:100vh;background:#000;display:flex;justify-content:center;align-items:center;overflow:hidden;}
/* ── 모니터 껍데기 (모서리 후퇴) ── */
#monitor{position:relative;width:90vw;max-width:1000px;height:70vh;max-height:700px;
  background:var(--bg);border:14px solid #064;border-radius:18px;
  box-shadow:0 0 140px #010 inset,0 0 14px #05f279,0 28px 80px rgba(0,0,0,.85);
  transform:perspective(1400px) rotateX(4deg) rotateY(-4deg);overflow:hidden;}
/* ── CRT 볼록 화면 ── */
#screen{position:absolute;inset:0;display:flex;justify-content:center;align-items:center;
  color:var(--green);transform:perspective(1100px) translateZ(110px);}
#screen::before{content:"";position:absolute;inset:0;
  background:repeating-linear-gradient(transparent 0 2px,rgba(0,0,0,.35) 2px 3px);
  mix-blend-mode:overlay;pointer-events:none;}
#screen::after{content:"";position:absolute;inset:0;
  background:radial-gradient(ellipse at center,transparent 0%,transparent 63%,rgba(0,0,0,.48) 100%);
  pointer-events:none;}
#noise{position:absolute;inset:-35%;
  background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjE1MCIgdmlld0JveD0iMCAwIDE1MCAxNTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGZpbHRlciBpZD0ibm9pc2UiPjxmZUZydWN0YWxOb2lzZSB0eXBlPSJ0dXJidWxlbmNlIiBiYXNlRnJlcXVlbmN5PSIuOSIgc3RpdGNoVGlsZXM9InN0aXRjaCIgbnVtT2N0YXZlcz0iMCIvPjwvZmlsdGVyPjxyZWN0IHdpZHRoPSIxNTAiIGhlaWdodD0iMTUwIiBmaWx0ZXI9InVybCgjbm9pc2UpIiBmaWxsPSIjRkZGIi8+PC9zdmc+");
  opacity:.06;animation:noise 1s steps(5) infinite;pointer-events:none;}
@keyframes noise{to{transform:translate(50%,50%);}}

/* ── 터미널 텍스트 ── */
#terminal{white-space:pre-wrap;font-size:2.2vmin;line-height:1.35;pointer-events:none;}
.blink{animation:blink .8s step-end infinite;}
@keyframes blink{50%{opacity:0;}}
@keyframes glitch{0%{transform:translate(0,0);}20%{transform:translate(-1px,1px);}
 40%{transform:translate(1px,-1px);}60%{transform:translate(-1px,-1px);}
 80%{transform:translate(1px,1px);}100%{transform:translate(0,0);}}
</style>
</head>
<body>

<div id="monitor">
  <div id="screen" tabindex="0">
<pre id="terminal">ULTIM809 COMPUTER BY MATT SARNOFF
DEBUG ROM v0.3 – 28 JUN 2010
512KB AVAILABLE RAM

CARD: NO NAME
120040960 BYTES
OFFSETS: F33 R279 D311

MONITOR READY.
&gt; <span id="typed" class="blink"></span></pre>
    <div id="noise"></div>
  </div>
</div>

<script>
/* ── 설정 ── */
const PASS="WATCHME";
let buf="", ambience=false;

/* 오디오 컨텍스트 */
let ctx; function AC(){return ctx||(ctx=new (window.AudioContext||window.webkitAudioContext)());}

/* ambience */
function startAmbience(){
  if(ambience) return; ambience=true;
  const ac=AC();
  const hum=ac.createOscillator(), g1=ac.createGain();
  hum.type="sine"; hum.frequency.value=50; g1.gain.value=.02;
  hum.connect(g1).connect(ac.destination); hum.start();
  const size=ac.sampleRate*2, nBuf=ac.createBuffer(1,size,ac.sampleRate);
  const d=nBuf.getChannelData(0); for(let i=0;i<size;i++) d[i]=Math.random()*2-1;
  const noise=ac.createBufferSource(); noise.buffer=nBuf; noise.loop=true;
  const g2=ac.createGain(); g2.gain.value=.015;
  noise.connect(g2).connect(ac.destination); noise.start();
}

/* 0.35 s 비프 */
function tone(f,type){
  const ac=AC(), o=ac.createOscillator(), g=ac.createGain();
  o.type=type; o.frequency.value=f; g.gain.value=.12;
  o.connect(g).connect(ac.destination); o.start();
  g.gain.exponentialRampToValueAtTime(0.0001,ac.currentTime+.35);
  o.stop(ac.currentTime+.36);
}

/* DOM */
const screen=document.getElementById("screen"),
      typedSpan=document.getElementById("typed"),
      term=document.getElementById("terminal");

screen.addEventListener("keydown",e=>{
  startAmbience();
  e.preventDefault();
  const k=e.key.toUpperCase();
  if(k.length===1 && buf.length<PASS.length){
    buf+=k; typedSpan.textContent=buf;
  }else if(k==="BACKSPACE"&&buf){
    buf=buf.slice(0,-1); typedSpan.textContent=buf;
  }else if(k==="ENTER"){validate();}
});
screen.focus();

function appendLine(text){term.innerHTML+=`\n${text}`;}

function validate(){
  typedSpan.classList.remove("blink");
  if(buf===PASS){
    appendLine("\nACCESS GRANTED.");
    tone(440,"triangle");
    setTimeout(()=>location.href="cctv.html",1400);
  }else{
    screen.style.animation="glitch .28s 2";
    appendLine("\nACCESS DENIED.");
    tone(120,"sawtooth");
    setTimeout(()=>{screen.style.animation="none";typedSpan.classList.add("blink");},600);
    buf=""; typedSpan.textContent="";
  }
}
</script>
</body>
</html>
